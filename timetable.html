<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Daywise Timetable | Student Hub</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
    --grad: linear-gradient(135deg,#6a11cb,#2575fc);
    --shadow: 0 4px 12px rgba(0,0,0,0.15);
    --radius: 14px;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI";}

body{
    background:#f7f7ff;height:100vh;display:flex;
}

/* Sidebar Days */
.sidebar{
    width:260px;background:white;padding:20px;box-shadow:var(--shadow);
    display:flex;flex-direction:column;gap:15px;
}

.day{
    padding:12px;background:#ece6ff;border-radius:10px;cursor:pointer;
    text-align:center;font-weight:bold;
}
.day:hover{background:#d7c2ff;}
.active{background:#6a11cb;color:white !important;}

/* Main */
.main{
    flex:1;padding:25px;overflow:auto;
}

h2{margin-bottom:10px;}

.task{
    background:white;padding:15px;border-radius:12px;
    box-shadow:var(--shadow);margin-bottom:12px;
    display:flex;align-items:center;gap:12px;
}

.task input[type="time"],
.task input[type="text"],
.task select{
    padding:7px;border-radius:8px;border:1px solid #ccc;
}

.del{
    background:#ff4d4d;color:white;border:none;padding:6px 9px;border-radius:8px;cursor:pointer;
}

.add-btn{
    padding:12px;background:var(--grad);border:none;color:white;
    border-radius:10px;cursor:pointer;font-weight:bold;margin-top:10px;
}
</style>
</head>

<body>

<!-- Sidebar -->
<div class="sidebar" id="dayList">
    <div class="day" onclick="selectDay('Monday')">Monday</div>
    <div class="day" onclick="selectDay('Tuesday')">Tuesday</div>
    <div class="day" onclick="selectDay('Wednesday')">Wednesday</div>
    <div class="day" onclick="selectDay('Thursday')">Thursday</div>
    <div class="day" onclick="selectDay('Friday')">Friday</div>
    <div class="day" onclick="selectDay('Saturday')">Saturday</div>
    <div class="day" onclick="selectDay('Sunday')">Sunday</div>
</div>

<!-- Main -->
<div class="main">
    <h2 id="dayTitle">Select a Day</h2>

    <div id="taskBox"></div>

    <button class="add-btn" onclick="addTask()">âž• Add Class / Task</button>
</div>

<script>
/* STORAGE */
let timetable = JSON.parse(localStorage.getItem("dayTimetable")) || {
    Monday:[], Tuesday:[], Wednesday:[], Thursday:[],
    Friday:[], Saturday:[], Sunday:[]
};

let currentDay = null;

/* SELECT DAY */
function selectDay(day){
    currentDay = day;
    document.getElementById("dayTitle").innerText = day;

    // Highlight selected day
    [...document.querySelectorAll(".day")].forEach(d=>d.classList.remove("active"));
    event.target.classList.add("active");

    renderTasks();
}

/* DISPLAY TASKS */
function renderTasks(){
    let box = document.getElementById("taskBox");
    box.innerHTML = "";

    if(!currentDay) return;

    timetable[currentDay].forEach((t,i)=>{
        box.innerHTML += `
            <div class="task">
                <input type="checkbox" ${t.done?"checked":""} onchange="toggleDone(${i})">
                <input type="time" value="${t.time}" onchange="updateTime(${i},this.value)">
                <input type="text" value="${t.text}" onchange="updateText(${i},this.value)">
                <select onchange="updateCat(${i},this.value)">
                    <option ${t.cat=='class'?'selected':''}>class</option>
                    <option ${t.cat=='study'?'selected':''}>study</option>
                    <option ${t.cat=='personal'?'selected':''}>personal</option>
                    <option ${t.cat=='other'?'selected':''}>other</option>
                </select>
                <button class="del" onclick="deleteTask(${i})">ðŸ—‘</button>
            </div>
        `;
    });
}

/* ADD TASK */
function addTask(){
    if(!currentDay){
        alert("Select a day first.");
        return;
    }

    timetable[currentDay].push({
        time:"09:00",
        text:"New Class",
        cat:"class",
        done:false
    });

    save();
    renderTasks();
}

/* MODIFIERS */
function toggleDone(i){
    timetable[currentDay][i].done = !timetable[currentDay][i].done;
    save();
}
function updateTime(i,val){
    timetable[currentDay][i].time = val;
    save();
}
function updateText(i,val){
    timetable[currentDay][i].text = val;
    save();
}
function updateCat(i,val){
    timetable[currentDay][i].cat = val;
    save();
}

/* DELETE */
function deleteTask(i){
    timetable[currentDay].splice(i,1);
    save();
    renderTasks();
}

/* SAVE */
function save(){
    localStorage.setItem("dayTimetable", JSON.stringify(timetable));
}
</script>

</body>
</html>
